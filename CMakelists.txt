cmake_minimum_required(VERSION 3.14)
project(gtest-sample VERSION 0.1.0 DESCRIPTION "Googletest Sample App")

# Set C++ standard
set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# set(${PROJECT_LIB}  "lib${PROJECT_NAME}")
set(TEST_PROJECT_NAME "${PROJECT_NAME}_Test")


# Include directories
include_directories("src")

# Locate source files
file(GLOB SRC_FILES "${PROJECT_SOURCE_DIR}/src/*.c")
list(FILTER SRC_FILES EXCLUDE REGEX "main.c")

file(GLOB TEST_SRC_FILES "tests/*.cc")

include_directories(${PROJECT_SOURCE_DIR}/src)
add_executable(${PROJECT_NAME} ${SRC_FILES} "src/main.c")

enable_testing()
add_subdirectory(tests)
